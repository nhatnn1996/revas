{"ast":null,"code":"import _objectSpread from \"/Users/fimplus/Desktop/revasReal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"/Users/fimplus/Desktop/revasReal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/fimplus/Desktop/revasReal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/fimplus/Desktop/revasReal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/Users/fimplus/Desktop/revasReal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nimport * as React from 'react';\nimport { AnimatedValue } from '../core/Animated';\n\nvar Touchable = /*#__PURE__*/function (_React$Component) {\n  _inherits(Touchable, _React$Component);\n\n  var _super = _createSuper(Touchable);\n\n  function Touchable() {\n    var _this;\n\n    _classCallCheck(this, Touchable);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this._style = {\n      opacity: new AnimatedValue(1),\n      animated: true\n    };\n    _this._start = void 0;\n    _this._tid = '';\n\n    _this._onTouchStart = function (e) {\n      _this._tid = Object.keys(e.touches)[0];\n      _this._start = e.touches[_this._tid];\n\n      _this._style.opacity.setValue(_this.props.activeOpacity);\n\n      _this.props.onPressIn && _this.props.onPressIn();\n    };\n\n    _this._onTouchEnd = function (e) {\n      if (_this._start && e.touches[_this._tid]) {\n        if (Math.abs(_this._start.x - e.touches[_this._tid].x) < 3 && Math.abs(_this._start.y - e.touches[_this._tid].y) < 3) {\n          _this.props.onPress && _this.props.onPress();\n        }\n      }\n\n      _this._style.opacity.setValue(1);\n\n      _this.props.onPressOut && _this.props.onPressOut();\n    };\n\n    return _this;\n  }\n\n  _createClass(Touchable, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement('Touchable', _objectSpread(_objectSpread({\n        onTouchStart: this._onTouchStart,\n        onTouchEnd: this._onTouchEnd\n      }, this.props), {}, {\n        style: [this.props.style, this._style]\n      }));\n    }\n  }]);\n\n  return Touchable;\n}(React.Component);\n\nTouchable.defaultProps = {\n  activeOpacity: 0.7\n};\nexport { Touchable as default };","map":{"version":3,"sources":["/Users/fimplus/Desktop/revasReal/src/revas/components/Touchable.ts"],"names":["React","AnimatedValue","Touchable","_style","opacity","animated","_start","_tid","_onTouchStart","e","Object","keys","touches","setValue","props","activeOpacity","onPressIn","_onTouchEnd","Math","abs","x","y","onPress","onPressOut","createElement","onTouchStart","onTouchEnd","style","Component","defaultProps"],"mappings":";;;;;AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AAEA,SAASC,aAAT,QAA8B,kBAA9B;;IASqBC,S;;;;;;;;;;;;;;;UAKnBC,M,GAAS;AACPC,MAAAA,OAAO,EAAE,IAAIH,aAAJ,CAAkB,CAAlB,CADF;AAEPI,MAAAA,QAAQ,EAAE;AAFH,K;UAKDC,M;UACAC,I,GAAO,E;;UAEPC,a,GAAgB,UAACC,CAAD,EAAwB;AAC9C,YAAKF,IAAL,GAAYG,MAAM,CAACC,IAAP,CAAYF,CAAC,CAACG,OAAd,EAAuB,CAAvB,CAAZ;AACA,YAAKN,MAAL,GAAcG,CAAC,CAACG,OAAF,CAAU,MAAKL,IAAf,CAAd;;AACA,YAAKJ,MAAL,CAAYC,OAAZ,CAAoBS,QAApB,CAA6B,MAAKC,KAAL,CAAWC,aAAxC;;AACA,YAAKD,KAAL,CAAWE,SAAX,IAAwB,MAAKF,KAAL,CAAWE,SAAX,EAAxB;AACD,K;;UAEOC,W,GAAc,UAACR,CAAD,EAAwB;AAC5C,UAAI,MAAKH,MAAL,IAAeG,CAAC,CAACG,OAAF,CAAU,MAAKL,IAAf,CAAnB,EAAyC;AACvC,YAAIW,IAAI,CAACC,GAAL,CAAS,MAAKb,MAAL,CAAYc,CAAZ,GAAgBX,CAAC,CAACG,OAAF,CAAU,MAAKL,IAAf,EAAqBa,CAA9C,IAAmD,CAAnD,IACFF,IAAI,CAACC,GAAL,CAAS,MAAKb,MAAL,CAAYe,CAAZ,GAAgBZ,CAAC,CAACG,OAAF,CAAU,MAAKL,IAAf,EAAqBc,CAA9C,IAAmD,CADrD,EACwD;AACtD,gBAAKP,KAAL,CAAWQ,OAAX,IAAsB,MAAKR,KAAL,CAAWQ,OAAX,EAAtB;AACD;AACF;;AACD,YAAKnB,MAAL,CAAYC,OAAZ,CAAoBS,QAApB,CAA6B,CAA7B;;AACA,YAAKC,KAAL,CAAWS,UAAX,IAAyB,MAAKT,KAAL,CAAWS,UAAX,EAAzB;AACD,K;;;;;;;6BAEQ;AACP,aAAOvB,KAAK,CAACwB,aAAN,CAAoB,WAApB;AACLC,QAAAA,YAAY,EAAE,KAAKjB,aADd;AAELkB,QAAAA,UAAU,EAAE,KAAKT;AAFZ,SAGF,KAAKH,KAHH;AAILa,QAAAA,KAAK,EAAE,CACL,KAAKb,KAAL,CAAWa,KADN,EAEL,KAAKxB,MAFA;AAJF,SAAP;AASD;;;;EAzCoCH,KAAK,CAAC4B,S;;AAAxB1B,S,CACZ2B,Y,GAAe;AACpBd,EAAAA,aAAa,EAAE;AADK,C;SADHb,S","sourcesContent":["import * as React from 'react';\nimport { BaseProps, RevasTouchEvent, RevasTouch } from '../core/Node';\nimport { AnimatedValue } from '../core/Animated';\n\nexport type TouchableProps = {\n  onPress: Function;\n  onPressIn?: Function;\n  onPressOut?: Function;\n  activeOpacity?: number;\n} & BaseProps;\n\nexport default class Touchable extends React.Component<TouchableProps> {\n  static defaultProps = {\n    activeOpacity: 0.7\n  };\n\n  _style = {\n    opacity: new AnimatedValue(1),\n    animated: true\n  };\n\n  private _start?: RevasTouch;\n  private _tid = '';\n\n  private _onTouchStart = (e: RevasTouchEvent) => {\n    this._tid = Object.keys(e.touches)[0];\n    this._start = e.touches[this._tid];\n    this._style.opacity.setValue(this.props.activeOpacity!);\n    this.props.onPressIn && this.props.onPressIn();\n  };\n\n  private _onTouchEnd = (e: RevasTouchEvent) => {\n    if (this._start && e.touches[this._tid]) {\n      if (Math.abs(this._start.x - e.touches[this._tid].x) < 3 &&\n        Math.abs(this._start.y - e.touches[this._tid].y) < 3) {\n        this.props.onPress && this.props.onPress();\n      }\n    }\n    this._style.opacity.setValue(1);\n    this.props.onPressOut && this.props.onPressOut();\n  };\n\n  render() {\n    return React.createElement('Touchable', {\n      onTouchStart: this._onTouchStart,\n      onTouchEnd: this._onTouchEnd,\n      ...this.props,\n      style: [\n        this.props.style,\n        this._style\n      ]\n    });\n  }\n}"]},"metadata":{},"sourceType":"module"}
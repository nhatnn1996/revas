{"ast":null,"code":"import _assertThisInitialized from \"/Users/fimplus/Desktop/revasReal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _classCallCheck from \"/Users/fimplus/Desktop/revasReal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/fimplus/Desktop/revasReal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/fimplus/Desktop/revasReal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/Users/fimplus/Desktop/revasReal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\n\nvar _jsxFileName = \"/Users/fimplus/Desktop/revasReal/src/develop/Timeline/index.tsx\",\n    _class,\n    _temp;\n\nimport * as React from 'react';\nimport { Text, Image, View, AnimatedValue, ListView, withContext } from '../../revas';\nimport data from './data';\nimport Back from '../common/back';\n\nvar Item = /*#__PURE__*/function (_React$Component) {\n  _inherits(Item, _React$Component);\n\n  var _super = _createSuper(Item);\n\n  function Item() {\n    var _this;\n\n    _classCallCheck(this, Item);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.style = createItemTextStyle(_this.props.index, _this.props.animated, _this.props.height);\n    return _this;\n  }\n\n  _createClass(Item, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          item = _this$props.item,\n          index = _this$props.index,\n          lines = _this$props.lines;\n      return /*#__PURE__*/React.createElement(View, {\n        style: this.style.item,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 19,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(Image, {\n        style: this.style.cover,\n        src: item.imageUrl,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 20,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(View, {\n        style: this.style.text,\n        cache: \"text_\".concat(index),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 21,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Text, {\n        style: styles.title,\n        numberOfLines: 2,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 22,\n          columnNumber: 11\n        }\n      }, item.title), /*#__PURE__*/React.createElement(Text, {\n        style: styles.text,\n        numberOfLines: lines,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 25,\n          columnNumber: 11\n        }\n      }, item.excerpt)));\n    }\n  }]);\n\n  return Item;\n}(React.Component);\n\nvar TimelineApp = withContext(_class = (_temp = /*#__PURE__*/function (_React$Component2) {\n  _inherits(TimelineApp, _React$Component2);\n\n  var _super2 = _createSuper(TimelineApp);\n\n  function TimelineApp() {\n    var _this2;\n\n    _classCallCheck(this, TimelineApp);\n\n    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      args[_key3] = arguments[_key3];\n    }\n\n    _this2 = _super2.call.apply(_super2, [this].concat(args));\n    _this2.WINDOW_HEIGHT = _this2.context.clientHeight;\n    _this2.MAX_LINES = Math.floor((_this2.WINDOW_HEIGHT / 3 - 20) / 26);\n    _this2.animated = new AnimatedValue(0);\n\n    _this2.onScroll = function (e) {\n      _this2.animated.setValue(e.y);\n    };\n\n    _this2.renderItem = function (item, index) {\n      return /*#__PURE__*/React.createElement(Item, {\n        index: index,\n        item: item,\n        animated: _this2.animated,\n        lines: _this2.MAX_LINES,\n        height: _this2.WINDOW_HEIGHT,\n        __self: _assertThisInitialized(_this2),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 5\n        }\n      });\n    };\n\n    _this2.getItemHeight = function () {\n      return _this2.WINDOW_HEIGHT;\n    };\n\n    return _this2;\n  }\n\n  _createClass(TimelineApp, [{\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(React.Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(ListView, {\n        data: data,\n        paging: true,\n        renderItem: this.renderItem,\n        itemHeight: this.WINDOW_HEIGHT,\n        onScroll: this.onScroll,\n        style: styles.container,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(Back, {\n        router: this.props.router,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 9\n        }\n      }));\n    }\n  }]);\n\n  return TimelineApp;\n}(React.Component), _temp)) || _class;\n\nexport { TimelineApp as default };\n\nfunction createItemTextStyle(index, animated, height) {\n  var offset = (index - 1) * height;\n  var translateY = animated.interpolate([offset, offset + height], [-height / 2, 0]);\n  var opacity = animated.interpolate([offset + height / 2, offset + height, offset + 2 * height], [0, 1, 0]);\n  return {\n    item: {\n      height: height\n    },\n    cover: {\n      backgroundColor: '#eee',\n      height: height / 2,\n      zIndex: 1\n    },\n    text: {\n      margin: 20,\n      translateY: translateY,\n      opacity: opacity,\n      animated: true,\n      height: height / 2\n    }\n  };\n}\n\nvar styles = {\n  container: {\n    flex: 1\n  },\n  title: {\n    marginBottom: 10,\n    fontSize: 26,\n    lineHeight: 34,\n    fontWeight: '800',\n    color: '#333',\n    fontFamily: 'serif'\n  },\n  text: {\n    fontSize: 18,\n    lineHeight: 26,\n    color: '#555',\n    fontFamily: 'fantasy'\n  }\n};","map":{"version":3,"sources":["/Users/fimplus/Desktop/revasReal/src/develop/Timeline/index.tsx"],"names":["React","Text","Image","View","AnimatedValue","ListView","withContext","data","Back","Item","style","createItemTextStyle","props","index","animated","height","item","lines","cover","imageUrl","text","styles","title","excerpt","Component","TimelineApp","WINDOW_HEIGHT","context","clientHeight","MAX_LINES","Math","floor","onScroll","e","setValue","y","renderItem","getItemHeight","container","router","offset","translateY","interpolate","opacity","backgroundColor","zIndex","margin","flex","marginBottom","fontSize","lineHeight","fontWeight","color","fontFamily"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport { Text, Image, View, RevasScrollEvent, AnimatedValue, ListView, withContext } from '../../revas';\nimport data from './data';\nimport Back from '../common/back';\n\ninterface ItemProps {\n  animated: AnimatedValue;\n  index: number;\n  item: any;\n  lines: number;\n  height: number;\n}\n\nclass Item extends React.Component<ItemProps> {\n  style = createItemTextStyle(this.props.index, this.props.animated, this.props.height);\n  render() {\n    const { item, index, lines } = this.props;\n    return (\n      <View style={this.style.item}>\n        <Image style={this.style.cover} src={item.imageUrl} />\n        <View style={this.style.text} cache={`text_${index}`}>\n          <Text style={styles.title} numberOfLines={2}>\n            {item.title}\n          </Text>\n          <Text style={styles.text} numberOfLines={lines}>\n            {item.excerpt}\n          </Text>\n        </View>\n      </View>\n    );\n  }\n}\n\n@withContext\nexport default class TimelineApp extends React.Component<any> {\n  WINDOW_HEIGHT = this.context.clientHeight;\n  MAX_LINES = Math.floor((this.WINDOW_HEIGHT / 3 - 20) / 26);\n\n  animated = new AnimatedValue(0);\n\n  onScroll = (e: RevasScrollEvent) => {\n    this.animated.setValue(e.y);\n  };\n\n  renderItem = (item: any, index: number) => (\n    <Item index={index} item={item} animated={this.animated} lines={this.MAX_LINES} height={this.WINDOW_HEIGHT} />\n  );\n\n  getItemHeight = () => this.WINDOW_HEIGHT;\n\n  render() {\n    return (\n      <React.Fragment>\n        <ListView\n          data={data}\n          paging\n          renderItem={this.renderItem}\n          itemHeight={this.WINDOW_HEIGHT}\n          onScroll={this.onScroll}\n          style={styles.container}\n        />\n        <Back router={this.props.router} />\n      </React.Fragment>\n    );\n  }\n}\n\nfunction createItemTextStyle(index: number, animated: AnimatedValue, height: number) {\n  const offset = (index - 1) * height;\n  const translateY = animated.interpolate([offset, offset + height], [-height / 2, 0]);\n  const opacity = animated.interpolate([offset + height / 2, offset + height, offset + 2 * height], [0, 1, 0]);\n  return {\n    item: {\n      height,\n    },\n    cover: {\n      backgroundColor: '#eee',\n      height: height / 2,\n      zIndex: 1,\n    },\n    text: { margin: 20, translateY, opacity, animated: true, height: height / 2 },\n  };\n}\n\nconst styles = {\n  container: {\n    flex: 1,\n  },\n  title: {\n    marginBottom: 10,\n    fontSize: 26,\n    lineHeight: 34,\n    fontWeight: '800',\n    color: '#333',\n    fontFamily: 'serif',\n  },\n  text: {\n    fontSize: 18,\n    lineHeight: 26,\n    color: '#555',\n    fontFamily: 'fantasy',\n  },\n};\n"]},"metadata":{},"sourceType":"module"}